
from flask import Flask
import frontendContents
from frontendContents.endpointMethods import EndpointMethods

# Fichero que inicializa la aplicación Flask y define los endpoints del sitio web
#  
# Author: Diego García Muñoz
# Tutores: Bruno Baruque Zanón y Roberto Carlos Casado Vara
# Trabajo Fin de Grado, Ingeniería Informática, Universidad de Burgos Curso 2022-2023

# se crea la aplicación de Flask, indicando las rutas de sus carpetas static y templates
app = Flask(
    __name__,
    static_folder='frontendContents/static',
    template_folder='frontendContents/templates'
)
# clave simple de ejemplo, si se desease publicar la página web esta cable debería cambiarse
app.secret_key = b'papopi'

# a continuación se definen los endpoint de todas las páginas del sitio web
@app.route('/', methods=["GET"])
def home():
    return EndpointMethods.home()

@app.route('/introduceDatos', methods=["GET"])
def introduceDatosGet():
    return EndpointMethods.introduceDatosGet()

@app.route('/introduceDatos', methods=["POST"])
def introduceDatosPost():
    return EndpointMethods.introduceDatosPost()

@app.route('/introduceDatos/inicio-meta', methods=["GET"])
def inicio_metaGet():
    return EndpointMethods.inicio_metaGet()

@app.route('/introduceDatos/inicio-meta', methods=["POST"])
def inicio_metaPost():
    return EndpointMethods.inicio_metaPost()

@app.route('/seleccionaGrafo', methods=["GET"])
def seleccionaGrafoGet():
    return EndpointMethods.seleccionaGrafoGet()

@app.route('/seleccionaGrafo', methods=["POST"])
def seleccionaGrafoPost():
    return EndpointMethods.seleccionaGrafoPost()

@app.route('/datosEntrenamiento', methods=["GET"])
def introduceDatosEntrenamientoGet():
    return EndpointMethods.introduceDatosEntrenamientoGet()

@app.route('/datosEntrenamiento', methods=["POST"])
def introduceDatosEntrenamientoPost():
    return EndpointMethods.introduceDatosEntrenamientoPost()

@app.route('/resultados', methods=["GET"])
def muestraResultadosGet():
    return EndpointMethods.muestraResultadosGet()

if __name__ == '__main__':

    # se indica como host 0.0.0.0 para que se pueda acceder a la página desde fuera del contenedor Docker.
    app.run(
        host='0.0.0.0',
        port=8080,
        debug=False
    )